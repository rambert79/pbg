<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Exodus: Red Sea v3.2</title>
    <style>
        :root {
            --sea-deep: #002f6c; --sea-top: #4fc3f7; --foam: rgba(255,255,255,0.8);
            --ground-dark: #795548; --ground-light: #d4b46a; --sand: #f0d082;
            --accent: #ffd700;
        }

        body { margin: 0; padding: 0; background: #000; overflow: hidden; font-family: sans-serif; }

        /* í™ˆ ë²„íŠ¼ */
        .home-btn {
            position: fixed; top: 15px; left: 15px; z-index: 10000;
            text-decoration: none; color: white; background: rgba(0,0,0,0.4);
            padding: 8px 16px; border-radius: 20px; font-size: 14px;
            border: 1px solid rgba(255,255,255,0.3); backdrop-filter: blur(5px);
        }

        #setup-screen { position: fixed; inset: 0; background: radial-gradient(circle, #01579b, #000); display: flex; align-items: center; justify-content: center; z-index: 5000; color: white; text-align: center; }
        .diff-box { background: rgba(0,0,0,0.8); padding: 40px; border-radius: 40px; border: 3px solid var(--accent); }
        .diff-btn { margin-top: 15px; padding: 15px 30px; border-radius: 20px; border: none; background: #fff; color: #000; font-weight: bold; cursor: pointer; display: block; width: 100%; font-size: 18px; }

        #game-container { position: relative; width: 100vw; height: 100vh; display: none; perspective: 1000px; }
        #path { position: absolute; left: 50%; top: 0; width: 400px; height: 100%; transform: translateX(-50%); background: var(--sand); transition: width 1.2s cubic-bezier(0.4, 0, 0.2, 1); z-index: 1; box-shadow: inset 0 0 50px rgba(0,0,0,0.5); }
        
        .sea-wall { position: absolute; top: 0; width: 50vw; height: 100%; z-index: 5; transition: margin 1.2s ease-in-out; }
        .wall-left { right: 50%; margin-right: 200px; background: linear-gradient(to right, var(--sea-deep), var(--sea-top)); transform: rotateY(30deg); border-right: 10px solid white; }
        .wall-right { left: 50%; margin-left: 200px; background: linear-gradient(to left, var(--sea-deep), var(--sea-top)); transform: rotateY(-30deg); border-left: 10px solid white; }

        #moses { position: absolute; left: 50%; bottom: 100px; transform: translateX(-50%); font-size: 60px; z-index: 10; transition: bottom 0.5s; }
        #goal { position: absolute; top: 0; left: 0; width: 100%; height: 80px; background: #2e7d32; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; z-index: 5; }

        #input-container { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); z-index: 1000; }
        input { padding: 15px 30px; border-radius: 30px; border: 4px solid var(--accent); font-size: 20px; text-align: center; width: 300px; outline: none; }

        .word { position: absolute; color: white; background: rgba(0,0,0,0.7); padding: 10px 20px; border-radius: 20px; border: 2px solid gold; font-weight: bold; transform: translateX(-50%); z-index: 50; }
        
        /* ì‹œë„¤ë§ˆí‹± íš¨ê³¼ */
        #victory-layer { position: fixed; inset: 0; background: gold; opacity: 0; pointer-events: none; z-index: 9000; transition: opacity 0.5s; display: flex; align-items: center; justify-content: center; font-size: 60px; font-weight: 900; color: white; text-shadow: 0 0 20px rgba(0,0,0,0.5); }
    </style>
</head>
<body>

    <a href="index.html" class="home-btn">ğŸ  í™ˆìœ¼ë¡œ</a>

    <div id="setup-screen">
        <div class="diff-box">
            <h1>Exodus: Red Sea</h1>
            <button class="diff-btn" onclick="startGame(0.4)">Easy í‰í™”ë¡œìš´ ì‹œì‘</button>
            <button class="diff-btn" onclick="startGame(0.7)">Normal í‘œì¤€ ì—¬ì •</button>
            <button class="diff-btn" onclick="startGame(1.0)">Hard ê³ ë‚œì˜ ì‹œí—˜</button>
        </div>
    </div>

    <div id="victory-layer">HALLELUJAH!</div>

    <div id="game-container">
        <div id="goal">ğŸŒ¿ ê°€ë‚˜ì•ˆ ì„±ì „ ğŸ›ï¸</div>
        <div id="path"></div>
        <div class="sea-wall wall-left" id="w-left"></div>
        <div class="sea-wall wall-right" id="w-right"></div>
        <div id="moses">ğŸ§”ğŸ¾â€â™‚ï¸</div>
        <div id="input-container">
            <input type="text" id="word-input" placeholder="íƒ€ì´í•‘ í•˜ì„¸ìš”!" autocomplete="off">
        </div>
    </div>

    <script>
        const words = ["ëª¨ì„¸", "ê¸°ì ", "ë¯¿ìŒ", "ì†Œë§", "ì‚¬ë‘", "í™í•´", "ì´ìŠ¤ë¼ì—˜", "ë§Œë‚˜", "ì‹­ê³„ëª…", "ì—¬í˜¸ìˆ˜ì•„"];
        let activeWords = [], mosesPos = 100, pathWidth = 400, isGameOver = false, speedMult = 1;
        const input = document.getElementById('word-input');

        function startGame(speed) {
            speedMult = speed;
            document.getElementById('setup-screen').style.display = 'none';
            document.getElementById('game-container').style.display = 'block';
            input.focus();
            spawnWord();
            update();
        }

        function spawnWord() {
            if(isGameOver) return;
            const text = words[Math.floor(Math.random()*words.length)];
            const el = document.createElement('div');
            el.className = 'word'; el.innerText = text;
            el.style.left = (Math.random() * 60 + 20) + 'vw';
            el.style.top = '-50px';
            document.getElementById('game-container').appendChild(el);
            activeWords.push({ el, text, top: -50, speed: (Math.random() + 1) * speedMult });
            setTimeout(spawnWord, 2000 / speedMult);
        }

        function update() {
            if(isGameOver) return;
            activeWords.forEach((w, i) => {
                w.top += w.speed;
                w.el.style.top = w.top + 'px';
                if(w.top > window.innerHeight) {
                    w.el.remove(); activeWords.splice(i, 1);
                }
            });
            requestAnimationFrame(update);
        }

        input.addEventListener('keydown', (e) => {
            if(e.key === 'Enter') {
                const val = input.value.trim();
                const idx = activeWords.findIndex(w => w.text === val);
                if(idx !== -1) {
                    mosesPos += 50;
                    document.getElementById('moses').style.bottom = mosesPos + 'px';
                    activeWords[idx].el.remove();
                    activeWords.splice(idx, 1);
                    if(mosesPos > window.innerHeight - 200) winGame();
                } else {
                    pathWidth = Math.max(50, pathWidth - 40);
                    updatePath();
                }
                input.value = '';
            }
        });

        function updatePath() {
            document.getElementById('path').style.width = pathWidth + 'px';
            document.getElementById('w-left').style.marginRight = (pathWidth/2) + 'px';
            document.getElementById('w-right').style.marginLeft = (pathWidth/2) + 'px';
            if(pathWidth <= 50) alert("ë°”ë‹¤ê°€ ë‹«í˜”ìŠµë‹ˆë‹¤!");
        }

        function winGame() {
            isGameOver = true;
            const vic = document.getElementById('victory-layer');
            vic.style.opacity = '1';
            setTimeout(() => location.reload(), 3000);
        }
    </script>
</body>
</html>
